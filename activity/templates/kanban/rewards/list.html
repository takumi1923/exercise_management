{% extends "kanban/base.html" %}

{% block content %}
<div class = "center">
  <div class = "container">
 
    <h1 class = "center">ご褒美選択</h1>
  
    <br>

    {% for reward in user.reward_recieve_set.all %} 
  
      <h2 class = "center">現在のゲーミフィケーションポイント: {{ reward.reward_recieve_point}}</h2>
  
    {% endfor %}
    {% for used in user.used_point_set.all %}
      <h2 class = "center">使用済みポイント: {{ used.used_point }}</h2>
    {% endfor %}
  
   


    <form method="post">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit" class="btn btn-primary">ご褒美をもらいに行こう！</button>
    </form>

    {% for reward in object_list %}
      {% if reward.user.username == request.user.username %}
          <div class = "row">
          <div class = "a">
            <div class="c">ご褒美内容 : {{ reward.reward }}</div> 
            <div class="d">ご褒美消費日 : {{ reward.date }}</div> 
          </div>
          <div class = "b">
            <a class="btn btn-danger"href="{% url 'activity:rewards_delete' reward.pk  %}" role="button">消費済みご褒美削除</a>
          </div>
        </div>
          

        {% endif %}    
    {% endfor %}
  </div>
</div>
<style>
  .center{
    text-align: center;
  }
</style>
{% endblock %}


{% block extrajs %}
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1/i18n/jquery.ui.datepicker-ja.min.js"></script>

<script>
  $(function () {
    // 日付は、年-月-日 の形式でお願いする。
    let dateFormat = 'yy-mm-dd';
    $('#id_date').datepicker({
      dateFormat: dateFormat
    });
  });
</script>
{% endblock %}

